<template>
	<div class="footer-wrapper">
		<div class="footer-contacts">
			<div class="footer-contacts__decor">
				<p class="footer-contacts__decor-text">КОНТАКТЫ</p>
			</div>
			<div class="footer-contacts__col">
				<p class="footer-contacts__title">
					Подробнее
				</p>
				<div class="footer-contacts__info">
					<p class="footer-contacts__tagline">Создаём дизайн <br> для сильных брендов</p>
					<a href="https://disk.yandex.ru/i/ffr_32LgvsLmYg" target="_blank" rel="noopener noreferrer" class="footer-contacts__link">Презентация</a>
				</div>
			</div>
			<div class="footer-contacts__col">
				<p class="footer-contacts__title">
					Офис
				</p>
				<div class="footer-contacts__info footer-contacts__info--address">
					<div class="footer-contacts__address">
						<p class="footer-contacts__address-title">Мурманск</p>
						<p class="footer-contacts__address-text">ул. П. Осипенко 37-А (2 этаж)</p>
					</div>
					<div class="footer-contacts__address">
						<p class="footer-contacts__address-title">Санкт-Петербург</p>
						<p class="footer-contacts__address-text">ул. Галерная 22-А офис № 38</p>
					</div>
				</div>
			</div>
			<div class="footer-contacts__col">
				<p class="footer-contacts__title">
					Контакты
				</p>
				<div class="footer-contacts__info footer-contacts__info--contacts">
					<div class="footer-contacts__contacts-row">
						<a href="https://wa.me/79113119113" class="footer-contacts__contacts-link">
							<svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path
									d="M0.985352 22.2182L2.49622 16.7031C1.32736 14.6735 0.860691 12.3149 1.16857 9.99313C1.47646 7.67132 2.54168 5.51593 4.19912 3.86109C5.85656 2.20625 8.01363 1.14441 10.3359 0.840177C12.6582 0.535945 15.016 1.00632 17.0438 2.17837C19.0716 3.35043 20.6561 5.1587 21.5516 7.32285C22.4472 9.487 22.6038 11.8862 21.9972 14.1484C21.3906 16.4106 20.0546 18.4095 18.1964 19.8352C16.3382 21.261 14.0616 22.0339 11.7195 22.0341C9.94283 22.0331 8.19473 21.5873 6.63458 20.7374L0.985352 22.2182ZM6.88871 18.8163L7.21291 19.0164C8.57613 19.8237 10.1311 20.2501 11.7155 20.2511C13.6774 20.2515 15.5839 19.5999 17.1351 18.3986C18.6863 17.1974 19.7944 15.5148 20.285 13.6151C20.7757 11.7155 20.6212 9.70674 19.8457 7.90454C19.0703 6.10233 17.7179 4.60894 16.0012 3.65913C14.2844 2.70932 12.3008 2.35696 10.362 2.65744C8.42315 2.95792 6.63918 3.8942 5.2905 5.31909C3.94182 6.74398 3.10491 8.57668 2.91135 10.5291C2.71779 12.4814 3.17856 14.4428 4.2212 16.1048L4.42132 16.4389L3.5268 19.7028L6.88871 18.8163Z"
									fill="#A5A5A5"
								/>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M17.0819 13.9233C17.0158 13.8113 16.8377 13.7452 16.5716 13.6132C16.3054 13.4811 14.9987 12.8367 14.7545 12.7467C14.5104 12.6566 14.3343 12.6146 14.1542 12.8807C13.9741 13.1469 13.4678 13.7452 13.3137 13.9233C13.1596 14.1014 13.0015 14.1235 12.7374 13.9894C11.9574 13.6761 11.2376 13.2299 10.6102 12.6706C10.0288 12.1328 9.53039 11.5117 9.13134 10.8276C8.97525 10.5614 9.11333 10.4274 9.24741 10.2853C9.38149 10.1432 9.51356 9.97309 9.64764 9.81901C9.75767 9.68478 9.84735 9.53509 9.91379 9.37475C9.94882 9.30123 9.96513 9.2202 9.96129 9.13886C9.95745 9.05751 9.93357 8.97838 9.89177 8.90849C9.82573 8.77641 9.29143 7.46767 9.07131 6.93536C8.85118 6.40306 8.63706 6.48711 8.47097 6.4771C8.30487 6.4671 8.13878 6.4771 7.96268 6.4771C7.82591 6.47936 7.69113 6.51027 7.56705 6.56783C7.44296 6.62539 7.33232 6.70833 7.24226 6.81129C6.94383 7.09426 6.70712 7.43588 6.54698 7.81468C6.38685 8.19349 6.30676 8.60131 6.31174 9.01255C6.31174 10.3213 7.26428 11.586 7.39836 11.7641C7.53244 11.9422 9.27343 14.6277 11.9409 15.7784C12.4362 15.9921 12.9425 16.1791 13.4578 16.3387C14.0003 16.5035 14.5738 16.5398 15.1328 16.4448C15.643 16.3687 16.7057 15.8004 16.9338 15.1801C17.1619 14.5597 17.1479 14.0334 17.0819 13.9233Z"
									fill="#A5A5A5"
								/>
							</svg>
						</a>
						<a href="https://t.me/Vorobey_Art" class="footer-contacts__contacts-link">
							<svg width="24" height="21" viewBox="0 0 24 21" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M1.86721 9.14313C8.12277 6.41758 12.2938 4.62055 14.3803 3.75206C20.3397 1.27465 21.5844 0.844402 22.3849 0.828393C22.6817 0.822623 22.9729 0.910111 23.2174 1.07854C23.3889 1.22647 23.4983 1.43374 23.5235 1.65887C23.5666 1.93884 23.5787 2.22272 23.5596 2.50535C23.2374 5.90729 21.8386 14.13 21.1282 17.9301C20.828 19.531 20.2357 20.0774 19.6613 20.1314C18.4166 20.2454 17.4601 19.3069 16.2594 18.5165C14.3703 17.2778 13.3037 16.5153 11.4707 15.2986C9.35147 13.8978 10.7263 13.1354 11.9329 11.8827C12.2491 11.5545 17.7362 6.55966 17.8443 6.1074C17.8586 6.04062 17.8569 5.97142 17.8395 5.90538C17.8222 5.83934 17.7895 5.77831 17.7443 5.72718C17.6786 5.68613 17.6042 5.66096 17.5271 5.65366C17.45 5.64637 17.3722 5.65715 17.3 5.68516C17.1119 5.72652 14.0955 7.72032 8.25085 11.6666C7.39436 12.2549 6.61859 12.5417 5.92352 12.5271C5.15709 12.509 3.68424 12.0928 2.58762 11.7266C1.24485 11.2903 0.186257 11.0602 0.270305 10.3258C0.319667 9.94158 0.851966 9.54736 1.86721 9.14313Z"
									fill="#A5A5A5"
								/>
							</svg>
						</a>
					</div>
					<div class="footer-contacts__address">
						<p class="footer-contacts__address-title">+7 911 311 911 3</p>
						<p class="footer-contacts__address-text">team@vorobeyart.ru</p>
					</div>
				</div>
			</div>
		</div>
		<div class="footer__wrapper">
			<NuxtLink :to="`/${settings.next}`" class="footer" v-if="case">
				<picture>
					<source
						media="(max-width: 768px)"
						:srcset="`/img/${settings.background[0]}/Mobile/${settings.background[1]}.webp`"
						type="image/webp"
					/>
					<source
						media="(min-width: 769px)"
						:srcset="`/img/${settings.background[0]}/PC/${settings.background[1]}.webp`"
						type="image/webp"
					/>
					<source
						:srcset="`/img/${settings.background[0]}/JPG/${settings.background[1]}.png`"
						type="image/png"
					/>
					<img
						:srcset="`/img/${settings.background[0]}/PC/${settings.background[1]}.webp`"
						:alt="settings.title"
						type="image/webp"
						class="footer__background"
					/>
				</picture>
				<div class="footer__background-white"></div>
				<div class="footer__text">
					<p class="footer__suptitle">
						Следующий проект
						<svg
							width="17"
							height="17"
							viewBox="0 0 17 17"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								d="M1.12753 14.377C0.645679 14.8589 0.645679 15.6401 1.12753 16.122C1.60938 16.6038 2.39062 16.6038 2.87247 16.122L1.12753 14.377ZM16.4834 2C16.4834 1.31856 15.931 0.766142 15.2495 0.766142L4.14479 0.766142C3.46335 0.766142 2.91093 1.31856 2.91093 2C2.91093 2.68144 3.46335 3.23386 4.14479 3.23386L14.0157 3.23386L14.0157 13.1047C14.0157 13.7862 14.5681 14.3386 15.2495 14.3386C15.931 14.3386 16.4834 13.7862 16.4834 13.1047L16.4834 2ZM2.87247 16.122L16.122 2.87247L14.377 1.12753L1.12753 14.377L2.87247 16.122Z"
								fill="black"
							/>
						</svg>
					</p>
					<h2 class="footer__title">{{ settings.title }}</h2>
				</div>
			</NuxtLink>
			<FooterCurtains v-else/>
		</div>

	</div>
</template>

<script>
// import {gsap} from 'gsap'
// import { ScrollTrigger } from 'gsap/ScrollTrigger';
import FooterCurtains from '@/components/FooterCurtains.vue'
export default {
  name: 'FooterTemplate',
  props: {
    settings: {
      default: {
        background: [],
        title: '',
        next: '',
      },
    },
		case: {
			type: Boolean,
			default: true
		}
  },
	components: {
		FooterCurtains
	}
	// mounted() {
	// 	setTimeout(() => {
	// 		gsap.registerPlugin(ScrollTrigger);
	// 		let footer = null
	// 		footer = gsap.timeline({
	// 			scrollTrigger: {
	// 				trigger: '.footer__wrapper',
	// 				// pin: true,
	// 				start: 'top bottom',
	// 				end: 'bottom bottom',
	// 				scrub: true,
	// 				// markers: true,
	// 			},
	// 		});
	// 		footer.fromTo('.footer', {ease: 'none', y: '-100%'}, {ease: 'none', y: '0%'})
	// 	}, 1000)
	// }
};
</script>

<style lang="scss" scoped>
.footer-wrapper {
	width: 100%;
	display: flex;
	flex-direction: column;
}

.footer-contacts {
	min-height: 440px;
	display: flex;
	z-index: 1;
	background: #F6F6F6;
	box-shadow: 0px 28px 30px 0px rgba(0, 121, 188, 0.60);
	position: relative;
	&__contacts {
		&-link {
			width: 42px;
			display: flex;
			align-items: center;
			justify-content: center;
			height: 42px;
			border-radius: 50%;
			border: 1px solid hsla(0, 0%, 82%, 1);
			background-color: #F9F9F9;
			transition: .1s ease-out;
			path {
				transition: .1s ease-out;
			}
			&:first-child {
				&:hover {
					border-color: #26D16A;
					background-color: #26D16A;
					path {
						fill: white
					}
				}
			}
			&:last-child {
				padding-right: 3px;
				padding-top: 2px;
				&:hover {
					border-color: #23A1DD;
					background-color: #23A1DD;
					path {
						fill: white
					}
				}
			}
		}
		&-row {
			display: flex;
			gap: 14px;
		}
	}
	&__col {
		display: flex;
		flex-direction: column;
		width: 100%;
		padding: 46px 56px 56px;
		&:not(:last-child) {
			border-right: 1px solid #E1E1E1;
		}
	}
	&__title {
		display: flex;
		align-items: center;
		gap: 20px;
		color: #222;
		font-size: 20px;
		font-weight: 400;
		&::before {
			content: '';
			display: flex;
			border-radius: 50%;
			width: 7px;
			height: 7px;
			background: #0181C8;
		}
	}
	&__info {
		margin-top: 143px;
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		align-items: flex-start;
		justify-content: flex-end;
		gap: 24px;
		&--address {
			gap: 52px;
		}
		&--contacts {
			gap: 28px;
		}
	}
	&__link {
		display: flex;
		align-items: center;
		justify-content: center;
		padding: 8px 40px;
		background-color: #0181C8;
		border-radius: 100px;
		text-align: center;
		font-size: 20px;
		color: white;
		text-decoration: none;
		font-weight: 500;
	}
	&__address {
		display: flex;
		flex-direction: column;
		gap: 12px;
		&-title {
			color: #222;
			font-size: 20px;
			font-weight: 700;
		}
		&-text {
			color: #222;
			font-size: 20px;
		}
	}
	&__tagline {
		color: #222;
		font-size: 40px;
		font-weight: 500;
	}
	&__decor {
		position: absolute;
		z-index: -1;
		overflow: hidden;
		bottom: 0;
		right: 0;
		&-text {
			margin-top: -41px;
			margin-bottom: -82px;
			color: #F0F0F0;
			font-size: 248px;
			font-weight: 700;
		}
	}
}

.footer {
	width: 100%;
	height: 545px;
	position: relative;
	display: block;
	bottom: 0;
	text-decoration: none;
	overflow: hidden;

	&__background-white {
		position: absolute;
		width: 100%;
		height: 100%;
		background-color: hsla(201, 99%, 39%, 1);
		transition: .3s ease;
	}
	&__background {
		height: 150%;
		width: auto;
		object-fit: cover;
		object-position: center center;
		position: absolute;
		transition: .3s ease;
		left: 50%;
		top: 50%;
		transform-origin: top left;
		transform: translate(-50%, -50%);
		z-index: 1;
		opacity: 0.15;
		@media (hover: hover) and (pointer: fine) {
			filter: blur(12px);
		}
	}
	&__text {
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		z-index: 1;
		position: absolute;
		text-align: center;
		color: white;
	}
	&__suptitle{
		color: white;
		transition: .3s ease;
		font-weight: 700;
		font-size: 30px;
		display: flex;
		align-items: flex-start;
		justify-content: center;
		gap: 3px;
		position: relative;
		width: min-content;
		white-space: nowrap;
		margin: 0 auto 18px;
		svg {
			right: -20px;
			top: -10px;
			position: absolute;
			path {
				fill: white;
			}
		}
	}
	&__title {
		color: white;
		font-size: 100px;
		font-weight: 700;
		transition: .3s ease;
		white-space: nowrap;
		text-transform: uppercase;
	}
	&:hover {
		.footer {
			&__background {
				filter: blur(0);
				transform: scale(1.1) translate(-50%, -50%);
			}
			&__title {
				transform: scale(1.5);
				opacity: 0;
			}
			&__suptitle {
				transform: scale(0.5);
				opacity: 0;
			}
		}
	}
}

@media(max-width: 1440px) {
	.footer-contacts {
		&__info {
			margin-top: 91px;
		}
	}
}
@media(max-width: 1024px) {
	.footer {
		&__title {
			font-size: 80px;
			white-space: nowrap;
		}
		&__date {
			bottom: 70px;
		}
	}

	.footer-contacts {
		&__col:nth-child(3) {
			display: none;
		}
		&__tagline {
			font-size: 35px;
		}
		&__info {
			margin-top: 108px;
		}
	}
}

@media (max-width: 768px) {
	.footer {
		height: 275px;
		&__suptitle {
			font-size: 20px;
			white-space: nowrap;
			margin-bottom: 1px;
		}
		&__title {
			font-size: 48px;
			white-space: nowrap;
		}
		&--global {
			height: 100vh;
		}
	}
	.footer-contacts {
		&__tagline {
			font-size: 30px;
		}
		&__info {
			margin-top: 124px;
		}
	}
}

@media (max-width: 660px) {
	.footer-contacts {
		flex-direction: column;
		&__col {
			border-right: 0;
			border-bottom: 1px solid #E1E1E1;
		}
		&__tagline {
			font-size: 25px;
		}
		&__info {
			margin-top: 56px;
		}
	}
}

@media (max-width: 425px) {
	.footer {
		height: 250px;
		&__suptitle {
			font-size: 20px;
			white-space: nowrap;
			margin-bottom: 1px ;
		}
		&__title {
			font-size: 40px;
			white-space: nowrap;
		}
		&__date {
			font-size: 18px;
			bottom: 64px;
		}
		&--global {
			height: 100vh;
		}
	}
}
@media (max-width: 360px) {
	.footer-contacts {
		&__col {
			padding: 46px 61px 56px 41px;
		}
	}
}
</style>
